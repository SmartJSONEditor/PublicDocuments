function sjeClass(){return new ValueTransformer}var ValueTransformer=function(){this.displayName="Webview URL Parameter",this.shortDescription="Extract url parameter value from OAuth web views and similar",this.isEditingDisabled=!0,this.infoUrl="https://github.com/SmartJSONEditor/PublicDocuments/wiki/Token-Value-Transformer",this.parameters=function(e){if(null==e)return[];var a=[];try{a=DocumentModel.getProjectIdList()}catch(e){a=[]}if(0==a.length){return[{name:"urlSection",type:"Section",displayName:"No Projects found ",description:"You do not have any project nodes yet"}]}for(var r=[],t=0;t<a.length;t++){var n=a[t];r.push({displayName:n.displayName,value:n.projectId,imageName:n.imageName})}return[{name:"projectId",type:"Popup",displayName:"Project Identifier",description:"Select Project Identifier",defaultValue:r},{type:"String",name:"urlParameterName",displayName:"URL Parameter Name",description:"Url parameter name of resulting web view",defaultValue:"",tokenScripts:!0},{name:"cache",type:"Bool",displayName:"Cache Found value",description:"If enabled, value will be cached even resulting WebView is removed or do not exists.",defaultValue:!1},{type:"Segments",name:"output",displayName:"Output",description:"Prepend, replace or append value.",defaultValue:[{displayName:"Prepend",enabled:0},{displayName:"Replace",enabled:1},{displayName:"Append",enabled:0}]}]},this.transform=function(e,a,r){var t=a.projectId,n=DocumentModel.getTokensValue(a.urlParameterName,r.projectNode,pluginIdentifier);if(0==a.cache&&DocumentModel.removeUserParameterValue("webview_parameter_storedValue"),void 0==t||""==t)return"Error-Project-id-parameter-is-undefined-x";var o=DocumentModel.getWebViewURLParameters(t);if(0==o.count)return"Error-no-parameters-found-x";for(var i=DocumentModel.getUserParameterValue("webview_parameter_storedValue"),l=0;l<o.length;l++){var u=o[l];if(void 0!==u[n]&&null!==u[n]){i=u[n],1==a.cache&&DocumentModel.setUserParameterValue("webview_parameter_storedValue",i);break}}return null==i&&(i="Error-no-value-found-x"),1==a.output[0].enabled?i+e:1==a.output[1].enabled?i:1==a.output[2].enabled?e+i:void 0}};