function sjeClass(){return new ValueTransformer}var ValueTransformer=function(){this.displayName="Process Text/Html Response",this.shortDescription="Extract values from Text or Html responses",this.isEditingDisabled=!0,this.infoUrl="https://github.com/SmartJSONEditor/PublicDocuments/wiki/Token-Value-Transformer",this.parameters=function(e){if(null==e)return[];var a=[];try{a=DocumentModel.getProjectIdList()}catch(t){a=[]}if(0==a.length){var r={name:"urlSection",type:"Section",displayName:"No Projects found ",description:"You do not have any project nodes yet"};return[r]}for(var i=[],u=0;u<a.length;u++){var s=a[u];i.push({displayName:s.displayName,value:s.projectId,imageName:s.imageName})}var n={name:"projectId",type:"Popup",displayName:"Project Identifier",description:"Select Project Identifier",defaultValue:i},l={type:"Text",name:"script",displayName:"Process Script",description:'Javascript code "responseString" variable will be injected. Assign "value" variable to return your result.',defaultValue:"value = responseString;",tokenScripts:!0},o=[{displayName:"Prepend",enabled:0},{displayName:"Replace",enabled:1},{displayName:"Append",enabled:0}],p={type:"Segments",name:"output",displayName:"Output",description:"Prepend, replace or append value.",defaultValue:o};return[n,l,p]},this.transform=function(inputValue,parameters,userInfo){var projectId=parameters.projectId,processScript=parameters.script||"";if(void 0==projectId||""==projectId)return"Error-Project-id-parameter-is-undefined-x";var responseString=DocumentModel.getResponseString(projectId);if(!responseString||""===responseString)return"Error-no-value-found-x";var value=eval(processScript);return null==value&&(value="Error-no-value-found-x"),1==parameters.output[0].enabled?value+inputValue:1==parameters.output[1].enabled?value:1==parameters.output[2].enabled?inputValue+value:void 0}};