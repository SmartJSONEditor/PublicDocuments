function sjeClass(){return new ValueTransformer}var ValueTransformer=function(){this.displayName="JSON Path",this.shortDescription="Extract value from json responses or nodes using jsonPath.",this.isEditingDisabled=!0,this.infoUrl="https://github.com/SmartJSONEditor/PublicDocuments/wiki/Token-Value-Transformer",this.parameters=function(e){if(null==e)return[];var t=[];try{t=DocumentModel.getProjectIdList()}catch(e){t=[]}if(0==t.length){return[{name:"urlSection",type:"Section",displayName:"No Projects found ",description:"You do not have any project nodes yet"}]}for(var a=[],r=0;r<t.length;r++){var n=t[r];a.push({displayName:n.displayName,value:n.projectId,imageName:n.imageName})}return[{name:"projectId",type:"Popup",displayName:"Project Identifier",description:"Select Project Identifier",defaultValue:a},{type:"JsonPath",name:"jsonPath",displayName:"Json Path",description:"Use space to initiate a json path search or use $ to access root element.",placeholder:"Use space to traverse",defaultValue:"",scriptsDisabled:!0,userInfo:{projectIdParameterName:"projectId"}},{type:"Segments",name:"segments",displayName:"Relative index",description:"For relative jsonPaths, use first or random value index.",defaultValue:[{displayName:"First Found",enabled:1},{displayName:"Random",enabled:0}]},{type:"Segments",name:"output",displayName:"Output",description:"Prepend, replace or append value.",defaultValue:[{displayName:"Prepend",enabled:0},{displayName:"Replace",enabled:1},{displayName:"Append",enabled:0}]}]},this.transform=function(e,t,a){var r=t.projectId,n=t.jsonPath;if(void 0==r||""==r)return"Error-Project-id-parameter-is-undefined-x";if(void 0==n||""==n)return"Error-JSON-Path-parameter-is-undefined-x";var s=DocumentModel.jsonPath(r,n);if(void 0==s)return"Error-JSON-Path-produced-undefined-results-x";if(0==s.count)return"Error-JSON-Path-produced-0-results-x";var o=0;1==t.segments[0].enabled&&(o=0),1==t.segments[1].enabled&&(o=function(e,t){var a=Math.random()*(t-e)+e;return parseInt(a)}(0,s.length));var i=s[o];if(void 0==i)return"Error-JSON-Path-undefined-results-x";var d="";return 1==i.isContainer?(d=i.toJavascriptValue(),d=JSON.stringify(d)):d=i.value,1==t.output[0].enabled?d+e:1==t.output[1].enabled?d:1==t.output[2].enabled?e+d:""}};