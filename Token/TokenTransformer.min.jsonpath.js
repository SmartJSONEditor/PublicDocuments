function sjeClass(){return new ValueTransformer}var ValueTransformer=function(){function e(e,a){var t=Math.random()*(a-e)+e;return parseInt(t)}this.displayName="JSON Path",this.shortDescription="Extract value from json responses or nodes using jsonPath.",this.isEditingDisabled=!1,this.infoUrl="https://github.com/SmartJSONEditor/PublicDocuments/wiki/Token-Value-Transformer",this.parameters=function(e){if(null==e)return[];var a=[];try{a=DocumentModel.getProjectIdList()}catch(t){a=[]}if(0==a.length){var r={name:"urlSection",type:"Section",displayName:"No Projects found ",description:"You do not have any project nodes yet"};return[r]}for(var i=[],u=0;u<a.length;u++){var n=a[u];i.push({displayName:n.displayName,value:n.projectId,imageName:n.imageName})}var l={name:"projectId",type:"Popup",displayName:"Project Identifier",description:"Select Project Identifier",defaultValue:i},d={type:"JsonPath",name:"jsonPath",displayName:"Json Path",description:"Use space to initiate a json path search or use $ to access root element.",placeholder:"Use space to traverse",defaultValue:"",scriptsDisabled:!0,userInfo:{projectIdParameterName:"projectId"}},s=[{displayName:"First Found",enabled:1},{displayName:"Random",enabled:0}],o={type:"Segments",name:"segments",displayName:"Relative index",description:"For relative jsonPaths, use first or random value index.",defaultValue:s},p=[{displayName:"Prepend",enabled:0},{displayName:"Replace",enabled:1},{displayName:"Append",enabled:0}],m={type:"Segments",name:"output",displayName:"Output",description:"Prepend, replace or append value.",defaultValue:p};return[l,d,o,m]},this.transform=function(a,t){var i=t.projectId,u=t.jsonPath;if(void 0==i||""==i)return"Error-Project-id-parameter-is-undefined";if(void 0==u||""==u)return"Error-JSON-Path-parameter-is-undefined";var n=DocumentModel.jsonPath(i,u);if(void 0==n)return"Error-JSON-Path-produced-undefined-results";if(0==n.count)return"Error-JSON-Path-produced-0-results";var l=0;1==t.segments[0].enabled&&(l=0),1==t.segments[1].enabled&&(l=e(0,n.length));var d=n[l];if(void 0==d)return"Error-JSON-Path-undefined-results";var s="";return 1==d.isContainer?(s=d.toJavascriptValue(),s=JSON.stringify(s)):s=d.value,1==t.output[0].enabled?s+a:1==t.output[1].enabled?s:1==t.output[2].enabled?a+s:""}};